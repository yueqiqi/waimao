{"remainingRequest":"C:\\Users\\86151\\Desktop\\醉品茶城\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86151\\Desktop\\醉品茶城\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86151\\Desktop\\醉品茶城\\vue_app_00\\src\\components\\zuipin\\carts.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86151\\Desktop\\醉品茶城\\vue_app_00\\src\\components\\zuipin\\carts.vue","mtime":1565759802133},{"path":"C:\\Users\\86151\\Desktop\\醉品茶城\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\86151\\Desktop\\醉品茶城\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\Users\\86151\\Desktop\\醉品茶城\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import Header from \"./Header\"\n// import footer from \"./footer\"\nexport default {\n  data: function data() {\n    return {\n      price: 0,\n      n: 0,\n      radio: '1',\n      list: []\n    };\n  },\n  created: function created() {\n    this.loadMore();\n  },\n  methods: {\n    delitem: function delitem() {\n      var _this = this;\n\n      // var id=e.target.dataset.id;\n      var str = \"\";\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.list[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var item = _step.value;\n\n          if (item.cb) {\n            str += item.uid + \",\"; // console.log(str)\n          }\n        } // 截取逗号之前的内容\n\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      str = str.substring(0, str.length - 1); // 判断用户没有选中商品\n\n      if (str.length == 0) {\n        this.$alert(\"请选中商品\", \"提示：\");\n        return;\n      }\n\n      this.$confirm(\"是否删除指定数据\", \"提示：\", {\n        cancelButtonText: '取消',\n        confirmButtonText: '确定'\n      }).then(function (action) {\n        // ajax\n        var url = \"delitem\";\n        var obj = {\n          uid: str\n        };\n\n        _this.axios.get(url, {\n          params: obj\n        }).then(function (result) {\n          // 获取没有删除的商品\n          _this.loadMore();\n        });\n      }).catch(function (err) {\n        return;\n      }); // 重新加载数据\n    },\n    // **********************\n    change: function change() {\n      this.n = 0;\n\n      for (var a = 0; a < this.list.length; a++) {\n        if (this.list[a].cb) {\n          this.n += this.list[a].count;\n          this.price = this.list[a].price * this.n;\n        }\n      }\n    },\n    //************************\n    // 全选按钮\n    selectAll: function selectAll(e) {\n      //全选按钮状态\n      var cb = e.target.checked; //依据状态修改列表cb\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.list[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var item = _step2.value;\n          item.cb = cb;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      this.change();\n    },\n    //获取数据\n    loadMore: function loadMore() {\n      var _this2 = this;\n\n      var url = \"cart\";\n      this.axios.get(url).then(function (result) {\n        // this.list=result.data.data\n        // console.log(this.list)\n        var rows = result.data.data; // 添加cb属性\n\n        var _iteratorNormalCompletion3 = true;\n        var _didIteratorError3 = false;\n        var _iteratorError3 = undefined;\n\n        try {\n          for (var _iterator3 = rows[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var item = _step3.value;\n            item.cb = false; // this.$store.commit(\"increment\");\n          } // 保存\n\n        } catch (err) {\n          _didIteratorError3 = true;\n          _iteratorError3 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n              _iterator3.return();\n            }\n          } finally {\n            if (_didIteratorError3) {\n              throw _iteratorError3;\n            }\n          }\n        }\n\n        _this2.list = rows;\n      });\n    }\n  }\n};",{"version":3,"sources":["carts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA,eAAA;AAEA,MAFA,kBAEA;AAIA,WAAA;AACA,aAAA,CADA;AAEA,SAAA,CAFA;AAGA,aAAA,GAHA;AAIA,YAAA;AAJA,KAAA;AAOA,GAbA;AAaA,SAbA,qBAaA;AACA,SAAA,QAAA;AACA,GAfA;AAgBA,WAAA;AAEA,WAFA,qBAEA;AAAA;;AACA;AACA,UAAA,MAAA,EAAA;AAFA;AAAA;AAAA;;AAAA;AAGA,6BAAA,KAAA,IAAA,8HAAA;AAAA,cAAA,IAAA;;AACA,cAAA,KAAA,EAAA,EAAA;AACA,mBAAA,KAAA,GAAA,GAAA,GAAA,CADA,CAEA;AACA;AACA,SARA,CASA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUA,YAAA,IAAA,SAAA,CAAA,CAAA,EAAA,IAAA,MAAA,GAAA,CAAA,CAAA,CAVA,CAYA;;AACA,UAAA,IAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,OAAA,EAAA,KAAA;AACA;AACA;;AACA,WAAA,QAAA,CAAA,UAAA,EAAA,KAAA,EAAA;AACA,0BAAA,IADA;AAEA,2BAAA;AAFA,OAAA,EAGA,IAHA,CAGA,kBAAA;AAEA;AACA,YAAA,MAAA,SAAA;AACA,YAAA,MAAA;AAAA,eAAA;AAAA,SAAA;;AACA,cAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AAAA,kBAAA;AAAA,SAAA,EAAA,IAAA,CAAA,kBAAA;AACA;AACA,gBAAA,QAAA;AACA,SAHA;AAIA,OAZA,EAYA,KAZA,CAYA,eAAA;AACA;AACA,OAdA,EAjBA,CA+BA;AAGA,KApCA;AAqCA;AACA,UAtCA,oBAsCA;AACA,WAAA,CAAA,GAAA,CAAA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,IAAA,CAAA,MAAA,EAAA,GAAA,EAAA;AACA,YAAA,KAAA,IAAA,CAAA,CAAA,EAAA,EAAA,EAAA;AACA,eAAA,CAAA,IAAA,KAAA,IAAA,CAAA,CAAA,EAAA,KAAA;AACA,eAAA,KAAA,GAAA,KAAA,IAAA,CAAA,CAAA,EAAA,KAAA,GAAA,KAAA,CAAA;AACA;AACA;AACA,KA9CA;AA+CA;AACA;AACA,aAjDA,qBAiDA,CAjDA,EAiDA;AACA;AACA,UAAA,KAAA,EAAA,MAAA,CAAA,OAAA,CAFA,CAKA;;AALA;AAAA;AAAA;;AAAA;AAMA,8BAAA,KAAA,IAAA,mIAAA;AAAA,cAAA,IAAA;AACA,eAAA,EAAA,GAAA,EAAA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AASA,WAAA,MAAA;AACA,KA3DA;AA4DA;AACA,YA7DA,sBA6DA;AAAA;;AAEA,UAAA,MAAA,MAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA;AACA;AACA,YAAA,OAAA,OAAA,IAAA,CAAA,IAAA,CAHA,CAIA;;AAJA;AAAA;AAAA;;AAAA;AAKA,gCAAA,IAAA,mIAAA;AAAA,gBAAA,IAAA;AACA,iBAAA,EAAA,GAAA,KAAA,CADA,CAGA;AAEA,WAVA,CAWA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAYA,eAAA,IAAA,GAAA,IAAA;AAEA,OAdA;AAeA;AA/EA;AAhBA,CAAA","sourcesContent":["<template>\r\n    <div> \r\n<!-- <div>\r\n     <v-header></v-header>\r\n</div> -->\r\n<!-- -------------------购物车----------------------- --> \r\n    <div class=\"Cart_center \" >  \r\n        <div class=\"Cart_a\">\r\n            <div class=\"Cart_b\" v-for=\"(item,i) of list\"  :key=\"i\">\r\n                <div class=\"cart_img\">\r\n                     <input type=\"checkbox\" v-model=\"item.cb\" @change=\"change\" />\r\n                    <img :src=\"'http://127.0.0.1:3000/img/'+item.img\" alt=\"\">\r\n                </div>\r\n                <div class=\"cart_title\">\r\n                    <span>{{item.title}}</span>\r\n                    <h4>{{item.p_type}}</h4>\r\n                    <p>￥ {{item.price}}</p>\r\n                    </div>\r\n                    <div class=\"cart_title_right\">\r\n                    <p>小计：￥{{item.price*item.count}}</p>\r\n                                <!-- <span>删除</span> -->\r\n                 <el-input-number  @change=\"change\" v-model=\"item.count\" :min=\"1\" :max=\"99\" label=\"描述文字\"></el-input-number>\r\n                </div>\r\n            </div>                \r\n        </div>\r\n         \r\n     \r\n    </div>\r\n<!-- ------------------购物车底部---------------------------- -->\r\n    <div class=\"Cart_footer\">\r\n        <el-row>\r\n            <el-col :sm=\"8\" :md=\"8\" :lg=\"12\">\r\n            全选\r\n             <input type=\"checkbox\"  @change=\"selectAll\">\r\n             <span @click=\" delitem\">删除</span>\r\n                <el-divider direction=\"vertical\"></el-divider>\r\n                <span>共{{list.length}}件商品，已选择{{n}}件</span>\r\n            </el-col>\r\n            <el-col :sm=\"8\" :md=\"8\" :lg=\"12\">\r\n                    <div>\r\n                        <span>应付（不含运费）：￥{{price}}</span>\r\n                     <el-button type=\"success\" size=\"medium\" plain>结算</el-button>\r\n                    </div>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n    <div class=\"myfoot\">\r\n           <!-- <v-footer></v-footer> -->\r\n    </div>\r\n     \r\n    \r\n</div>\r\n</template>\r\n<script>\r\n// import Header from \"./Header\"\r\n// import footer from \"./footer\"\r\nexport default {\r\n    \r\n    data(){\r\n\r\n   \r\n      \r\n      return{\r\n            price:0,\r\n            n:0,\r\n            radio:'1',\r\n            list:[],\r\n            \r\n        }\r\n    },created(){\r\n        this.loadMore();\r\n    },\r\nmethods:{\r\n\r\ndelitem(){\r\n            // var id=e.target.dataset.id;\r\n            var str = \"\";\r\n        for(var item of this.list){\r\n            if(item.cb){\r\n                str+=item.uid+\",\"\r\n            // console.log(str)\r\n            }         \r\n        }\r\n    // 截取逗号之前的内容\r\n    str = str.substring(0,str.length-1)\r\n \r\n    // 判断用户没有选中商品\r\n    if(str.length==0){\r\n    this.$alert(\"请选中商品\",\"提示：\")\r\n        return;\r\n        }\r\n    this.$confirm(\"是否删除指定数据\",\"提示：\",{\r\n                   cancelButtonText: '取消',\r\n                 confirmButtonText: '确定',\r\n    }).then(action=>{   \r\n        \r\n    // ajax\r\n    var url=\"delitem\";\r\n    var obj = {uid:str} \r\n    this.axios.get(url,{params:obj}).then(result=>{\r\n        // 获取没有删除的商品\r\n        this.loadMore();\r\n    });\r\n     }).catch(err=>{\r\n         return\r\n     })   // 重新加载数据\r\n\r\n\r\n     },\r\n// **********************\r\nchange(){\r\n    this.n=0;\r\n    for(var a=0;a<this.list.length;a++){      \r\n       if(this.list[a].cb){\r\n        this.n+=this.list[a].count\r\n        this.price= this.list[a].price*this.n \r\n            }\r\n        }\r\n     },\r\n//************************\r\n        // 全选按钮\r\nselectAll(e){\r\n     //全选按钮状态\r\n     var cb =  e.target.checked;\r\n   \r\n   \r\n    //依据状态修改列表cb\r\n     for(var item of this.list){\r\n        item.cb = cb;\r\n     }\r\n     this.change()\r\n        },\r\n        //获取数据\r\nloadMore(){\r\n            \r\n            var url=\"cart\"      \r\n            this.axios.get(url).then(result=>{\r\n            // this.list=result.data.data\r\n            // console.log(this.list)\r\n            var rows= result.data.data;\r\n            // 添加cb属性\r\n            for(var item of rows){\r\n                item.cb=false;\r\n             \r\n                // this.$store.commit(\"increment\");\r\n\r\n            }\r\n            // 保存\r\n            this.list=rows\r\n         \r\n        })\r\n      }\r\n\r\n\r\n    },\r\n\r\n}\r\n</script>\r\n<style>\r\n\r\n.Cart_footer{\r\n    width: 100%;\r\n    position:fixed;\r\n    bottom: 0px;\r\n    background-color: azure;\r\n    border-top: 1px solid #cfcfcf;\r\n    height: 100px;\r\n   z-index: 999;\r\n   \r\n}\r\n.Cart_center{\r\n    width: auto;\r\n    margin: 0 auto;\r\n    clear: both;\r\n    /* border: 1px solid; */\r\n    padding: 0!important;\r\n \r\n    \r\n}\r\n.Cart_a{\r\n    width: 70%;\r\n    margin: 0 auto;\r\n \r\n}\r\n.Cart_b{\r\n    width: 100%;\r\n    height: 150px;\r\n    border: 1px solid #e5e5e5;\r\n   margin-top:30px; \r\n   display:flex;\r\n   float: left !important;\r\n}\r\n\r\n.cart_img{\r\n    height: 110px;\r\n    width: 120px;\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n    top: 30px;\r\n}\r\n.cart_img img{\r\n    width: 110px;\r\n    height: 100%;\r\n    \r\n}\r\n.cart_title{\r\n    position: relative;\r\n    left: 36px;\r\n    top: 25px;\r\n    text-align: left;\r\n    margin-left: 20px;\r\n    width: 57%;\r\n}\r\n.cart_title_right{\r\n    position: relative;\r\n    width: 195px;\r\n    height: 100%;\r\n top: 20px;\r\n}\r\n.cart_title_right p{\r\n    \r\n    font-size: 14px;\r\n    color: #ff4001;\r\n    text-align: right;\r\n    padding-bottom: 30px;\r\n}\r\n.cart_title h4{\r\n   line-height: 20px;\r\n    color: #949494;\r\n    font-size: 10px;\r\n    margin: 0;\r\n}\r\n.cart_title span{\r\n   font-size: 14px;\r\n    line-height: 22px;\r\n}\r\n.cart_title p{\r\n      color: #949494;\r\n    font-size: 10px;\r\n    margin-top: 50px;\r\n}\r\n.el-button--success.is-plain{\r\n    margin-left: 20px;\r\n}\r\n.el-checkbox__input{\r\n    margin-left: 10px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src\\components\\zuipin"}]}